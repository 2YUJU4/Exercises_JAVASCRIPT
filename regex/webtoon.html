<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="webtoonData.js"></script>
    <title></title>

</head>
<body>
    <table class="table table-hover" id="webtoonTbl">
        <thead id="webtoonTh">
          <tr>
            <th scope="col">제목</th>
            <th scope="col">작가</th>
            <th scope="col">평점</th>
          </tr>
        </thead>
        <tbody id="webtoonTb" >
          <!-- <tr>    
            <th scope="row"></th>
            <td></td>
            <td></td>
            <td></td>
          </tr> -->
        </tbody>
      </table>

          
    <script>
        let regex = /alt="(.+?)".+?, this\)">(.+?)<\/a>.+?strong>(.+?)<\/strong>/gs;

        // let rs = regex.exec(dataMon)
        // console.log(rs);
        // console.log(RegExp.$1);
        // console.log(RegExp.$2);
        // console.log(RegExp.$3);

         let temp = "";
    //while((rs = regex.exec(dataMon)) !== null){ 
        // temp += "<tr>"
        // + "<td>"+RegExp.$1+"</td>"
        // + "<td>"+RegExp.$2+"</td>"
        // + "<td>"+RegExp.$3+"</td>"
        // + "</tr>"   
    // }
     //append() -> 특정 요소를 기준으로 그 요소 안쪽에다가
     //새로운 값을 기존의 자식요소 뒤로 추가하고 싶을때 사용하는 함수
     //A.append(B)
     /*
      <A>
        <C></C>
        <B></B>
      </A>
     */

     //document.getElementById("webtoonTbl").innerHTML = temp;
    //document.getElementById("webtoonTbl").append();
      while(regex.exec(dataMon) !== null){
          // createElement() : html 요소를 생성하는 함수
          //1. tr 요소 생성
          //2. td 요소 생성
          //3. tr요소에다 td요소를 추가하고 -> tr을 table에 추가

        let tr = document.createElement("tr");
        //setAttribute(속성명, value)
        
        tr.setAttribute("scope","col");
        
        
        //타이틀 데이터 넣어줄 td 생성 후 데이터 넣기
        let title = document.createElement("td");
        title.innerHTML = RegExp.$1;

        //작가 데이터 넣어줄 td생성후 데이터 넣기
        let writer = document.createElement("td");
        writer.innerHTML = RegExp.$2;

        //평점 데이터 넣어줄 td생성후 데이터 넣기.
        let grade = document.createElement("td");
        grade.innerHTML = RegExp.$3;

        //tr태그의 자식으로 3개의 td태그를 넣어주고 있는 작업
        tr.append(title,writer, grade);

        console.log(tr);

        //마지막으로 완성된 tr태그를 테이블 안쪽에 추가하는 작업
        document.getElementById("webtoonTb").append(tr);
                      //tr을 감싸주는 요소의id
      }
     

    </script>


</body>
</html>